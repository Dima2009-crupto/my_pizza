{# templates/_macros.html #}

{% macro light_or_dark_mode(element) %}

{% if request.args.get('mode') == "dark" %}
<a href="{{ request.path }}">Перемкнути на світлу тему</a>
<style>
{{ element }} {
background-color: #212F3C;
color: #FFFFF0;
}
{{ element }} a {
color: #00BFFF !important;
}
</style>
{% else %}
<a href="{{ request.path }}?mode=dark">Перемкнути на темну тему</a>
{% endif %}
{% endmacro %}


{% macro max_price(pizzas) %}
{% set supper_pizza =  pizzas|map(attribute="price")|max %}

    {% for pizza in pizzas|sort (attribute="price")|sort(attribute="name", reverse=True) %}
        {% if pizza.price == supper.pizza %}
        <tr>
            <td> Супер піца: {{ pizza.name }}</td>
            <td>{{ pizza.ingredients }}</td>
            <td>{{ pizza.price }}</td>

        </tr>
        {% if ppizza.pice == supper_pizza %}
        <tr>
            <td>{{ pizza.name }}</td>
            <td>{{ pizza.ingredients }}</td>
            <td>{{ pizza.price }}</td>
        </tr>
    {% else %}
        <tr>
            <td>{{ pizza.name }}</td>
            <td>{{ pizza.ingredients }}</td>
            <td>{{ pizza.price }}</td>
        </tr>
        {% endfor %}
    {% endif %}

{% endmacro %}